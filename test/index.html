<!doctype html>
<title>Require tests</title>

<script src="../index.js"></script>
<script src="../node_modules/chai/chai.js"></script>
<script>
	var assert = require('chai').assert;
</script>

<!-- external module -->
<!-- <script src="node_modules/modular/index.js"></script> -->
<script>
	var modular = require('modular');
	assert.equal(modular, 123);
</script>

<!-- external exports -->
<!-- <script src="node_modules/exporter/index.js"></script> -->
<script>
	var exporter = require('exporter');
	assert.equal(exporter.x, 123)
</script>

<!-- external module.exports -->
<!-- <script src="node_modules/modular-exporter/index.js"></script> -->
<script>
	var me = require('modular-exporter');
	assert.equal(me.x, 1)
</script>

<!-- external module.exports 2 -->
<!-- <script src="node_modules/modular-exporter-2/index.js"></script> -->
<script>
	var me2 = require('modular-exporter-2');
	assert.equal(me2.x, 2)
	assert.equal(me.x, 1)
</script>

<!-- external relaitve path -->
<!-- <script src="../test/special-module.js"></script> -->
<script>
	var spec = require('special-module');
	assert.equal(spec, 4);
</script>

<!-- external name -->
<script src="./other-module.js" data-module-name="other"></script>
<script>
	var oth = require('other');
	assert.equal(oth, 2);
</script>


<!-- inline undefined -->
<script>
	assert.throws(function(){
		exports.x = 12
	})
</script>

<!-- inline exports -->
<script data-module-name="inliner">
	exports.x = 12
</script>
<script>
	var i = require('inliner');
	assert.equal(i.x, 12)
</script>

<!-- Short module name -->
<script src="./src/short-module.js"></script>
<script>
	var a = require('short-module');
	assert.equal(a, 1)
</script>

<!-- Nested module -->
<!-- <script src="./node_modules/inner/node_modules/innerinner/index.js"></script> -->
<script>
	assert.equal(require('innerinner'), 1)
</script>

<!-- CamelCased module -->
<!-- <script src="./CamelModule.js" data-module-name="CamelModule"></script> -->
<script>
	assert.equal(require('camelmodule'), 'CamelModuleExports')
	assert.equal(require('CamelModule'), 'CamelModuleExports')
</script>

<!-- require nonexisting module -->
<script>
	assert.throws(function(){
		require('abc');
	});
</script>

<!-- guess-path module -->
<script>
	var a = require('guess-path');
	assert.equal(a, 1);
</script>


<!-- package.json paths -->
<script>
	window.addEventListener('load', function(){
		console.log('none error is ok')
	});

	var x = require('x');
	assert.equal(x.x, 1);
	assert.equal(x.y, 2);
	var y = require('y');
	assert.equal(y, 2);

	var z = require('z');
	assert.equal(z, 2);
</script>